// ==UserScript==
// @name         Evades-SP
// @version      beta-1.2
// @description  Evades Scripts Paradise, common script that links other scripts
// @author       @EtherCD, styles by @duesti.
// @match        https://*.evades.io/*
// @downloadURL  https://raw.githubusercontent.com/EtherCD/EvadesSP/main/build/evadessp.js
// @updateURL    https://raw.githubusercontent.com/EtherCD/EvadesSP/main/build/evadessp.js
// @icon         https://raw.githubusercontent.com/EtherCD/EvadesSP/main/repo/favicon.svg
// @license      MIT License
// @run-at       document-idle
// @grant        none
// ==/UserScript==

(()=>{"use strict";var e={336:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(31),s=n(354),i=n(427);t.init=(e,t)=>{setTimeout((()=>{(()=>{let e=Array.from(document.querySelectorAll("script")).filter((e=>"module"===e.type&&e.src.match(/\/index\.[0-9a-f]{8}\.js/)))[0];if(!e)return;let t=new XMLHttpRequest;t.open("GET",e.src,!1),t.onload=()=>{let e=t.response;for(const t in window.scripts.list)e=window.scripts.list[t].patch(e);(e=>{let t=Array.from(document.head.querySelectorAll("style")).filter((e=>null!==e.innerHTML.match(/#version-warning/g)))[0];const n=new XMLHttpRequest;n.open("GET","https://evades.io",!0),n.onload=()=>{const p=n.responseText.replace(/(type="module" src=")(\/index\.[0-9a-zA-Z]+\.js)/g,((e,t)=>t+"/ "));document.documentElement.innerHTML=p,r.init();let o=document.createElement("script");o.setAttribute("type","module"),o.innerHTML=e,document.body.appendChild(o),t&&document.head.appendChild(t),i.default.init(),s.init(),console.log("EvadesSP was loaded normal.")},n.send()})(e)},t.send()})()}),100),t.disconnect()}},287:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateState=t.pingAllListeners=t.checkChanges=t.isElementId=t.isElement=void 0;let n={currentPage:"menu"},r={currentPage:"menu"};t.isElement=(e,t)=>!!e.target.classList&&e.target.classList.contains(t),t.isElementId=(e,t)=>!!e.target.id&&e.target.id===t,t.checkChanges=()=>n.currentPage!==r.currentPage&&(r=JSON.parse(JSON.stringify(n)),!0),t.pingAllListeners=(e,t)=>{for(const n in t){const r=t[n];if(r.statement){let t={type:r.type};!r.value||(t.value=r.value),!r.target||(t.target=r.target),e.forEach((e=>e(t)))}}},t.updateState=(e,s)=>{if(!(e.target.id&&0!==e.target.id.length||e.target.classList&&0!==e.target.classList.length))return;(0,t.isElement)(e,"menu")&&(n.currentPage="menu"),(0,t.isElement)(e,"server-browser-box")&&(n.currentPage="server-list"),(0,t.isElement)(e,"leaderboard-title-break")&&(n.currentPage="game"),(0,t.isElement)(e,"hero-select")&&(n.currentPage="hero-select"),(0,t.isElement)(e,"results")&&(n.currentPage="game-end");const i=[{type:"change-page",statement:r.currentPage!==n.currentPage,value:n.currentPage},{type:"chat-message",statement:(0,t.isElement)(e,"chat-message"),target:e.target},{type:"chat-window-added",statement:(0,t.isElementId)(e,"chat-window"),target:e.target}];(0,t.pingAllListeners)(s,i),r=JSON.parse(JSON.stringify(n))}},31:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.addSubscriber=t.init=void 0;const i=n(287);let p=[];t.init=()=>{document.body.addEventListener("DOMNodeInserted",(e=>(0,i.updateState)(e,p)),!1)},t.addSubscriber=e=>{p.push(e)},s(n(287),t),s(n(466),t)},466:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},703:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Scripts=void 0;const i=n(955);t.Scripts=class{constructor(){this.list=[]}add(e){this.includes(e.name)||this.list.push(new i.default(e))}create(e){const t=new i.default(e);return this.list.push(t),t}includes(e){for(const t in this.list)if(this.list[t].name===e)return!0;return!1}get(e){for(const t in this.list)if(this.list[t].name===e)return this.list[t];console.log(e),console.warn(`Loading Script Error: Trying get not exists script, name: ${e}`)}forEach(e){for(const t in this.list)e(this.list[t])}},s(n(955),t),s(n(642),t)},955:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.replaces=[],this.vars={},this.name=e.name,this.icon=e.icon??"https://raw.githubusercontent.com/EtherCD/EvadesSP/main/repo/empty-script.svg",this.version=e.version??"none",this.description=e.description??"Description is not added",this.enabled=!0}addReplace(e,t){this.replaces.push([e,this.formatReplace(t)])}addReplaces(...e){for(const t in e)this.addReplace(e[t][0],e[t][1])}formatReplace(e){return e.replace(/#\{([^\}]+)\}/g,((e,t)=>`window.scripts.get("${this.name}").getVar("${t}")`))}addVar(e,t){this.vars[e]=t}getVar(e){return this.vars[e]}patch(e){for(const t in this.replaces)e=e.replace(this.replaces[t][0],this.replaces[t][1]);return console.log(this.name+" was loaded!"),e}}},642:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},354:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SDom=void 0;const i=n(606),p=n(31);t.SDom=class{constructor(){this.elements=[]}addObserverSubscriber(e){p.addSubscriber(e)}addHtmlElement(...e){this.elements.push(...e)}addStyle(...e){i.ScriptStyles.push(...e)}},s(n(242),t)},242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(606);t.init=()=>{r.ScriptStyles.patch(),window.sdom.elements.forEach((e=>document.body.appendChild(e)))}},606:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptStyles=void 0,function(e){let t=[];e.push=(...e)=>{t.push(...e)},e.patch=()=>{const e=document.createElement("style");e.innerHTML=t.join(" "),e.id="esp-styles",document.head.appendChild(e)}}(n||(t.ScriptStyles=n={}))},427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(138),s=n(532);var i;!function(e){e.init=()=>{window.sdom.addHtmlElement(r.ButtonMarking.makeButton(),s.ScriptsMenuMarking.makeScriptsMenu()),window.sdom.addObserverSubscriber((e=>{"change-page"===e.type&&"menu"!==e.value&&"server-list"!==e.value?(document.getElementById("esp-scripts-button").style.display="none",document.getElementById("esp-scripts-menu").style.display="none"):"change-page"===e.type&&(document.getElementById("esp-scripts-button").style.display="")}))}}(i||(i={})),t.default=i},138:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonMarking=void 0,function(e){e.makeButton=()=>{n();const e=document.createElement("div");return e.classList.add("esp-scripts-button"),e.setAttribute("id","esp-scripts-button"),e.appendChild(t()),e.onclick=()=>{const e=document.getElementById("esp-scripts-menu");e.style.display="none"===e.style.display?"":"none"},e};const t=()=>{const e=document.createElement("img");return e.src="https://raw.githubusercontent.com/EtherCD/EvadesSP/main/repo/settings.svg",e.classList.add("esp-scripts-button-icon"),e},n=()=>{window.sdom.addStyle(".esp-scripts-button {cursor: pointer;position: absolute;bottom: 10px;right: 10px;}.esp-scripts-button-icon {width: 36px;height: 36px;}")}}(n||(t.ButtonMarking=n={}))},532:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptsMenuMarking=void 0,function(e){e.makeScriptsMenu=()=>(r(),t());const t=()=>{const e=document.createElement("div");e.classList.add("esp-scripts-menu"),e.style.display="none",e.setAttribute("id","esp-scripts-menu");const t=document.createElement("div");t.classList.add("esp-scripts-container");const r=document.createElement("span");r.innerHTML="Scripts",r.classList.add("esp-scripts-title"),t.appendChild(r);const s=document.createElement("input");s.type="button",s.value="x",s.onclick=()=>document.getElementById("esp-scripts-menu").style.display="none",s.classList.add("esp-scripts-close-btn"),t.appendChild(s);const i=document.createElement("div");return i.classList.add("esp-scripts-list"),window.scripts.forEach((e=>{i.appendChild(n(e))})),t.appendChild(i),e.appendChild(t),e},n=e=>{const t=document.createElement("label");t.classList.add("esp-script-lable");const n=document.createElement("div");n.classList.add("esp-script-container");const r=document.createElement("img");r.classList.add("esp-script-icon"),r.src=e.icon,n.appendChild(r);const s=document.createElement("span");s.classList.add("esp-script-name"),s.innerHTML=e.name+" - "+e.version,n.appendChild(s);const i=document.createElement("span");i.classList.add("esp-script-description");const p=document.createElement("p");p.innerHTML=e.description,i.appendChild(p),n.appendChild(i);const o=document.createElement("div");return o.classList.add("checkbox-wrapper-12"),o.innerHTML='<div class="cbx"><input id="cbx-12" type="checkbox"/><label for="cbx-12"></label><svg width="15" height="14" viewbox="0 0 15 14" fill="none"><path d="M2 8.36364L6.23077 12L13 2"></path></svg></div>\x3c!-- Gooey--\x3e<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><filter id="goo-12"><fegaussianblur in="SourceGraphic" stddeviation="4" result="blur"></fegaussianblur><fecolormatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 22 -7" result="goo-12"></fecolormatrix><feblend in="SourceGraphic" in2="goo-12"></feblend></filter></defs></svg>',n.appendChild(o),t.appendChild(n),t},r=()=>{window.sdom.addStyle(":root {\n--mainFont: Montserrat;\n}"),window.sdom.addStyle(".esp-scripts-menu{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);flex-direction:column;color:#fff}.esp-scripts-container{width:450px;background-color:rgba(0,0,0,.9);display:flex;border-radius:12px;padding:30px 10px 0}.esp-scripts-title{margin-top:-23px;position:absolute;letter-spacing:.02em}.esp-scripts-close-btn{position:absolute;margin-top:-32px;margin-left:428px;font-weight:700;font-size:25px;font-family:var(--mainFont);border:none;background-color:transparent;color:red;cursor:pointer}.esp-script-icon{height:36px;width:36px;margin-top:10px;margin-left:10px}.esp-script-name{font-size:16px;margin-top:10px;position:absolute;margin-left:10px;letter-spacing:.02em}.esp-script-description p{text-align:left;max-width:320px;letter-spacing:.02em;margin-top:-15px;margin-left:55px}.cbx{margin-top:-33px}.checkbox-wrapper-12{position:absolute;margin-left:410px;margin-top:-44px}.checkbox-wrapper-12>svg{position:absolute;top:-130%;left:-170%;width:110px;pointer-events:none}.checkbox-wrapper-12 *{box-sizing:border-box}.checkbox-wrapper-12 input[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;cursor:pointer;margin:0}.checkbox-wrapper-12 input[type=checkbox]:focus{outline:0}.checkbox-wrapper-12 .cbx{width:24px;height:24px;top:calc(50vh - 12px);left:calc(50vw - 12px)}.checkbox-wrapper-12 .cbx input{position:absolute;top:0;left:0;width:24px;height:24px;border:2px solid #bfbfc0;border-radius:50%}.checkbox-wrapper-12 .cbx label{width:24px;height:24px;background:0 0;border-radius:50%;position:absolute;top:0;left:0;-webkit-filter:url('#goo-12');filter:url('#goo-12');transform:trasnlate3d(0,0,0);pointer-events:none}.checkbox-wrapper-12 .cbx svg{position:absolute;top:5px;left:4px;z-index:1;pointer-events:none}.checkbox-wrapper-12 .cbx svg path{stroke:#fff;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:19;stroke-dashoffset:19;transition:stroke-dashoffset .3s 0.2s}.checkbox-wrapper-12 .cbx input:checked+label{animation:.6s forwards splash-12}.checkbox-wrapper-12 .cbx input:checked+label+svg path{stroke-dashoffset:0}@-moz-keyframes splash-12{40%{background:#866efb;box-shadow:0 -18px 0 -8px #866efb,16px -8px 0 -8px #866efb,16px 8px 0 -8px #866efb,0 18px 0 -8px #866efb,-16px 8px 0 -8px #866efb,-16px -8px 0 -8px #866efb}100%{background:#866efb;box-shadow:0 -36px 0 -10px transparent,32px -16px 0 -10px transparent,32px 16px 0 -10px transparent,0 36px 0 -10px transparent,-32px 16px 0 -10px transparent,-32px -16px 0 -10px transparent}}@-webkit-keyframes splash-12{40%{background:#866efb;box-shadow:0 -18px 0 -8px #866efb,16px -8px 0 -8px #866efb,16px 8px 0 -8px #866efb,0 18px 0 -8px #866efb,-16px 8px 0 -8px #866efb,-16px -8px 0 -8px #866efb}100%{background:#866efb;box-shadow:0 -36px 0 -10px transparent,32px -16px 0 -10px transparent,32px 16px 0 -10px transparent,0 36px 0 -10px transparent,-32px 16px 0 -10px transparent,-32px -16px 0 -10px transparent}}@-o-keyframes splash-12{40%{background:#866efb;box-shadow:0 -18px 0 -8px #866efb,16px -8px 0 -8px #866efb,16px 8px 0 -8px #866efb,0 18px 0 -8px #866efb,-16px 8px 0 -8px #866efb,-16px -8px 0 -8px #866efb}100%{background:#866efb;box-shadow:0 -36px 0 -10px transparent,32px -16px 0 -10px transparent,32px 16px 0 -10px transparent,0 36px 0 -10px transparent,-32px 16px 0 -10px transparent,-32px -16px 0 -10px transparent}}@keyframes splash-12{40%{background:#866efb;box-shadow:0 -18px 0 -8px #866efb,16px -8px 0 -8px #866efb,16px 8px 0 -8px #866efb,0 18px 0 -8px #866efb,-16px 8px 0 -8px #866efb,-16px -8px 0 -8px #866efb}100%{background:#866efb;box-shadow:0 -36px 0 -10px transparent,32px -16px 0 -10px transparent,32px 16px 0 -10px transparent,0 36px 0 -10px transparent,-32px 16px 0 -10px transparent,-32px -16px 0 -10px transparent}}")}}(n||(t.ScriptsMenuMarking=n={}))}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(()=>{const e=n(336),t=n(703),r=n(354);window.scripts||(window.scripts=new t.Scripts,window.sdom=new r.SDom,-1===window.location.href.search(/\/profile/g)&&-1===window.location.href.search(/\/account/g)&&new MutationObserver(e.init).observe(document,{childList:!0,subtree:!0}))})()})();